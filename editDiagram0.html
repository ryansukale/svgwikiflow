<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">

        <link rel="stylesheet" href="css/frameworks/bootstrap.min.css">
		<link href="css/frameworks/ui-lightness/jquery-ui-1.10.0.custom.css" rel="stylesheet">
        <link rel="stylesheet" href="css/frameworks/bootstrap-responsive.min.css">
		
		<!-- Sitewide common CSS stylesheet -->
		<link rel="stylesheet" href="css/common.css">

		
		<!-- CSS specific to this page -->
		<link rel="stylesheet" href="css/editDiagram.css">
		
		
		
		
		<!-- Moving the utils stylesheet to the bottom -->
		<link rel="stylesheet" href="css/utils.css">
		
		<style>
            body {
                padding-top: 60px;
                padding-bottom: 40px;
            }
        </style>
		
		<link href="css/bootstrap.css" rel="stylesheet">
<link href="css/responsive.css" rel="stylesheet">

<!-- Flexslider -->
<link href="css/flexslider.css" rel="stylesheet">

<!-- Theme style -->
<link href="css/theme-style.css" rel="stylesheet">

<!--Your custom colour override-->
<link href="#" id="colour-scheme" rel="stylesheet">

<!-- Your custom override -->
<link href="css/custom-style.css" rel="stylesheet">

<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
<!--[if lt IE 9]>
      <script src="js/html5.js"></script>
    <![endif]-->

<!-- Le fav and touch icons - @todo: fill with your icons or remove -->
<link rel="shortcut icon" href="img/icons/favicon.html">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="img/icons/114x114.html">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="img/icons/72x72.html">
<link rel="apple-touch-icon-precomposed" href="img/icons/default.html">
<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700,300|Rambla|Calligraffitti' rel='stylesheet' type='text/css'>



	</head>

    <script type="text/javascript" src="embedapi.js"></script>
	
	<script type="text/javascript">
	
		var svgCanvas = null;

        function init_embed() {
            var frame = document.getElementById('svgedit');
			svgCanvas = new embedded_svg_edit(frame);
			
			// Hide main button, as we will be controlling new/load/save etc from the host document
			var doc;
			doc = frame.contentDocument;
			if (!doc)
			{
				doc = frame.contentWindow.document;
			}
			
			var mainButton = doc.getElementById('main_button');
			mainButton.style.display = 'none';            
        }
        
        function handleSvgData(data, error) {
			if (error)
			{
				alert('error ' + error);
			}
            else
			{
				console.log(data);
				//alert('Congratulations. Your SVG string is back in the host page, do with it what you will\n\n' + data);
			}			
        }
        
        function loadSvg() {
            //var svgexample = '<svg width="640" height="480" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg"><g><title>Layer 1</title><rect stroke-width="5" stroke="#000000" fill="#FF0000" id="svg_1" height="35" width="51" y="35" x="32"/><ellipse ry="15" rx="24" stroke-width="5" stroke="#000000" fill="#0000ff" id="svg_2" cy="60" cx="66"/></g></svg>';
			
			//var svgexample = '<svg width="640" height="480" xmlns="http://www.w3.org/2000/svg">  <g>   <title>Layer 1</title>   <text transform="matrix(11.8182 0 0 1 -1033.14 0)" stroke="#000000" xml:space="preserve" text-anchor="middle" font-family="serif" font-size="24" id="svg_1" y="89" x="101" stroke-width="0" fill="#000000"/>   <rect stroke="#000000" id="svg_2" height="61" width="194" y="68" x="38" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke-width="0" fill="#56aaff"/>   <text xml:space="preserve" text-anchor="middle" font-family="serif" font-size="24" id="svg_3" y="109" x="134" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke-width="0" stroke="#000000" fill="#000000">Register Vehicle</text>   <rect id="svg_4" stroke="#000000" height="61" width="194" y="158.5" x="122" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke-width="0" fill="#56aaff"/>   <text id="svg_5" xml:space="preserve" text-anchor="middle" font-family="serif" font-size="24" y="197.5" x="217" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke-width="0" stroke="#000000" fill="#000000">Pay Fees</text>   <line id="svg_8" y2="164" x2="191" y1="121" x1="148" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke="#000000" fill="none"/>  </g> </svg>';
			
			var svgexample = '<svg width="640" height="480" xmlns="http://www.w3.org/2000/svg">  <g>   <title>Layer 1</title>   <text fill="#000000" stroke-width="0" x="101" y="89" id="svg_1" font-size="24" font-family="serif" text-anchor="middle" xml:space="preserve" stroke="#000000" transform="matrix(11.8182 0 0 1 -1033.14 0)"/>   <rect fill="#56aaff" stroke-width="0" stroke-dasharray="null" stroke-linejoin="null" stroke-linecap="null" x="38" y="68" width="194" height="61" id="svg_2" stroke="#000000"/>   <text fill="#000000" stroke="#000000" stroke-width="0" stroke-dasharray="null" stroke-linejoin="null" stroke-linecap="null" x="134" y="109" id="svg_3" font-size="24" font-family="serif" text-anchor="middle" xml:space="preserve">Register Vehicle</text>   <rect fill="#56aaff" stroke-width="0" stroke-dasharray="null" stroke-linejoin="null" stroke-linecap="null" x="61" y="184.5" width="194" height="61" stroke="#000000" id="svg_4"/>   <text fill="#000000" stroke="#000000" stroke-width="0" stroke-dasharray="null" stroke-linejoin="null" stroke-linecap="null" x="156" y="223.5" font-size="24" font-family="serif" text-anchor="middle" xml:space="preserve" id="svg_5">Pay Fees</text>   <rect stroke="#000000" id="svg_6" fill="#56aaff" stroke-width="0" stroke-dasharray="null" stroke-linejoin="null" stroke-linecap="null" x="346" y="164.5" width="227.99999" height="61"/>   <text id="svg_7" fill="#000000" stroke="#000000" stroke-width="0" stroke-dasharray="null" stroke-linejoin="null" stroke-linecap="null" x="459" y="202.5" font-size="24" font-family="serif" text-anchor="middle" xml:space="preserve">Get weight Certificate</text>   <rect id="svg_10" height="49" width="202" y="278" x="361" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke-width="null" stroke="#000000" fill="#56aaff"/>   <text xml:space="preserve" text-anchor="middle" font-family="serif" font-size="24" id="svg_11" y="308" x="453" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke-width="0" stroke="#000000" fill="#000000">Done</text>   <line id="svg_12" y2="184" x2="169" y1="127" x1="151" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke-width="null" stroke="#000000" fill="none"/>   <line id="svg_13" y2="192" x2="351" y1="208" x1="251" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke-width="null" stroke="#000000" fill="none"/>   <line id="svg_14" y2="279" x2="466" y1="227" x1="463" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke-width="null" stroke="#000000" fill="none"/>  </g> </svg> 
			
            svgCanvas.setSvgString(svgexample);
        }
		
		function saveSvg() {			
			svgCanvas.getSvgString()(handleSvgData);
		}
	</script>
    
	
	<body>
	

        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
        <![endif]-->

        <div class="container">

			<div class="context-info clearfix">
				<div class="source-link simple-nav"><a href="viewDiagram_newVariant.html">Main Diagram</a>&nbsp ></div>
				<div class="simple-nav fork-title" contentEditable="true">&nbsp;New Untitled Diagram</div>
			</div>
			
			
			<div class="editing-container cleafix">
				
				<iframe src="svg-editor.html" width="100%" height="500px" id="svgedit" onload="init_embed()"></iframe>
				

				
			</div>
			
			
			
			<div class="notes-container clearfix">
				<div class="block-title">Notes</div>
					<div class="notes">
						<div contentEditable="true" class="note-item">
							Add some notes about your changes here.
						</div>
					</div>
			</div>
			
			
			
			<div class="actions-container">
				<div class="row-fluid">
				
					<div class="span8">
						
					</div>
					
					<div class="span4 actions">
						<div class="btn btn-success pull-right save-changes">Save Changes</div>
						<div class="btn btn-inverse pull-right cancel-changes">Cancel</div>
					</div>
				</div>
			</div>
			
			
            <footer>
                <p>&copy; Company 2012</p>
            </footer>

        </div> <!-- /container -->

    </body>

	
	<script src="js/frameworks/vendor/modernizr-2.6.2-respond-1.1.0.min.js"></script>
	<!-- Unminified Scripts for Dev version -->
	
	<script src="js/frameworks/jquery-1.9.1.min.js"></script>
	<script src="js/frameworks/require.js"></script>
	<script src="js/frameworks/vendor/bootstrap.js"></script>
	<script src="js/frameworks/jquery-ui-1.10.0.custom.js"></script>
	<script src="js/frameworks/json2.js"></script>
	<script src="js/frameworks/underscore.js"></script>
	<script src="js/frameworks/backbone.js"></script>
	<!-- ---------------------------------- -->
	
	<!-- Script specific to this page -->
	<script src="js/editDiagram.js"></script>
	
	<script type="text/javascript">
		
		
		var t=setTimeout(function(){
			
			loadSvg();
			
		},1500);
		
			
	</script>
	
	<!--
		<button onclick="loadSvg();">Load example</button>
		<button onclick="saveSvg();">Save data</button>
	-->
	

       
</html>
